

{% load static %}
{% block header %}

	{% include "header.html" %}
 
{% endblock %}


<body>

	<!-- breadcrumb-section -->
	<div style="padding-top: 80px;">
		<img class="img-fluid" src="{% static 'gestion_produit/assets/img/1.jpg' %}" alt="image">
		<p style="position: absolute; top: 100px;">Faites votre reservation ici</p>

	</div>
	<!-- end breadcrumb section -->

	<!-- contact form -->
	<div class="contact-from-section mt-150 mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 mb-5 mb-lg-0">
					<div class="form-title">
						<h2 class="text-center">Voulez-vous Faire une reservation ?</h2>
						<p class="text-center">Pour Faire une reservation veuillez remplire ce formulaire !!! vous pouvez egalement commander que vous voulez pour votre reservation</p>
					</div>
				 	<div id="form_status"></div>
					<div class="contact-form large shadow p-5">
						<form method ="POST" id="reservation-form">
							 {% csrf_token %} 
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="reservation">Motif de reservation</label>
										<select class="form form-control" name="reservation" id="">									
											<optgroup label="reservez pour">
												{% for reserve in type_reservation  %}
												<option value="{{ reserve.0  }}">{{ reserve.1 }}</option>
												{% endfor %}
												
												
											</optgroup>
										</select>
									</div>
									<div class="form-group">
										<label for="">Téléphone</label>
										<input type="text" name ="tel" class="form form-control" placeholder="votre télépohone">
									</div>
									<p class="form-group">
										<div><label for="message">avez vous quelque chose à ajouter</label></div>
										<textarea name="message" id="message" cols="40" rows="2" class="mt-2"></textarea>
									</p>
									{% if error_messages %}
									<div class="alert alert-danger" id="error-container">
										{% for message in error_messages  %}
											<p>{{ message }}</p>
										{% endfor %}
									</div>
									{% endif %}
									
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="date">Date</label>
										<input type="date" name="date" class="form form-control" placeholder="date reservation">
									</div>
									<div class="form-group">
										<label for="time">Heure</label>
										<input type="time" name = "time" class="form form-control" placeholder="Heure reservation">
									</div>
									{% comment %}
										<div class="form-group">
										<label for="">Heure fin</label>
										<input type="file" class="form form-control" multiple>
									</div>
									{% endcomment %}
									<p style="font-size: 12px;">Voulez-vous commander quelque chose ?</p>
									<p class="d-flex justify-content-center"><a href="" class="btn btn-primary text-white w-25"> Oui </a></p>
									
								</div>
								<p><input type="submit" value="Reserver"></p>
							</div>
						</form>
					</div>
				</div>
				<div class="col-lg-4">
					<div class="contact-form-wrap">
						<div class="contact-form-box">
							<h4><i class="fas fa-map"></i> Addresse du Restaurant</h4>
							<p>HAFIA <br> Labé. <br> Guinnée</p>
						</div>
						<div class="contact-form-box">
							<h4><i class="far fa-clock"></i> Heures d'ouverture</h4>
							<p>LUN - VEN: 7h à 2h <br> SAM - DIM: 10h à 23h </p>
						</div>
						<div class="contact-form-box">
							<h4><i class="fas fa-address-book"></i> Contact</h4>
							<p>Telephone: +224 620 595 080 <br> Email: barrydjouma370@gmail.com</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end contact form -->

	<!-- footer
	<script>
		document.getElementById('reservation-form').addEventListener('submit', function (event) {
			event.preventDefault();  // Empêcher la soumission du formulaire par défaut
			
			var formData = new FormData(this);
			
			fetch('{% url 'reservation' %}', {
				method: 'POST',
				body: formData
			})
			.then(response => response.json())
			.then(data => {
				if (!data.success) {
					var errorContainer = document.getElementById('error-container');
					errorContainer.innerHTML = '';  // Effacer les messages d'erreur précédents
					data.error_messages.forEach(function (message) {
						var errorParagraph = document.createElement('p');
						errorParagraph.textContent = message;
						errorContainer.appendChild(errorParagraph);
					});
				}
			})
			.catch(error => {
				console.error('Une erreur s\'est produite lors de la réservation :', error);
			});
		});
	</script>
	 -->

	{% block footer %}
	
		{% include "footer.html" %}
	
	{% endblock %}
	